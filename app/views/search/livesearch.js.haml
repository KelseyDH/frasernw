var pathways_division_search_data_content = {};
var pathways_division_search_data_entries = {};
   
function sort_division_entries(a, b) { return (a.id == b.id) ? 0 : ((a.id < b.id) ? -1 : 1); }

= render 'livesearch_global.js'

- current_user_divisions.each do |division|
  - cache("livesearch_" + division_path(division) + "_entries") do
    - Specialization.all.each do |specialization|
      = render 'livesearch_division_entries.js', :division => division, :specialization => specialization
    
    pathways_division_search_data_entries["#{division.id}"] = pathways_division_search_data_entries["#{division.id}"].sort(sort_division_entries).filter(function(item, pos) { return !pos || (item.id != pathways_division_search_data_entries["#{division.id}"][pos - 1].id); });
    
  = render 'livesearch_division_content.js', :division => division