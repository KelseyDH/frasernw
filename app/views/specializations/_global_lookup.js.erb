//using an object so that we can set it to null when the page changes via an ajax load, to unload everything.
filtering = null;
filtering = new Object();

<%
cities = Hash.new
City.all.each{ |city| cities[city.id] = city.name }
-%>
filtering.global_cities = <%=cities.to_json.html_safe %>

<%
specialties = Hash.new
Specialization.all.each{ |specialty| specialties[specialty.id] = specialty.name }
-%>
filtering.global_specialties = <%=specialties.to_json.html_safe %>

<%
status_classes = Hash.new
Specialist::STATUS_CLASS_HASH.each{|status_class, id| status_classes[id] = status_class }
-%>
filtering.global_status_classes = <%=status_classes.to_json.html_safe %>

<%
wait_times = Hash.new
Specialist::WAITTIME_HASH.each{|id, wait_time| wait_times[id] = wait_time }
wait_times[-1] = ""
-%>
filtering.global_wait_times = <%=wait_times.to_json.html_safe %>

<%
hospitals = Hash.new
Hospital.all.each{|h| hospitals[h.id] = h.name }
-%>
filtering.global_hospitals = <%=hospitals.to_json.html_safe %>

<%
clinics = Hash.new
specializations.each{ |s| s.clinics.each{|c| clinics[c.id] = c.name } }
-%>
filtering.global_clinics = <%=clinics.to_json.html_safe %>

<%
languages = Hash.new
Language.all.each{|l| languages[l.id] = l.name }
-%>
filtering.global_languages = <%=languages.to_json.html_safe %>

filtering.specialist_data = {}
filtering.clinic_data = {}
filtering.current_cities = {}
filtering.current_specialties = <%=specializations.map{ |s| s.id } %>
filtering.specialist_procedures = {}
filtering.specialist_associations = {}
filtering.specialist_languages = {}
filtering.clinic_procedures = {}
filtering.clinic_languages = {}
filtering.clinic_healthcare_providers = {}

<%
categories = Hash.new
ScCategory.all.each{|c| categories[c.id] = c.name }
-%>
filtering.global_categories = <%=categories.to_json.html_safe %>

filtering.content_data = {}
filtering.current_divisions = {}
filtering.current_subcategories = {}